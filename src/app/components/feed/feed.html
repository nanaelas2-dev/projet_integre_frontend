<div class="feed-container">
  <!-- Header -->
  <div class="feed-header">
    <h1>Fil d'actualité</h1>
    <p>Découvrez les dernières publications de la communauté</p>
  </div>

  <!-- Filter Tabs -->
  <div class="filter-tabs">
    <button [class.active]="currentFilter() === 'ALL'" (click)="filter('ALL')">Tout</button>
    @for (cat of categories; track cat) {
      <button [class.active]="currentFilter() === cat" (click)="filter(cat)">{{ cat }}</button>
    }
  </div>

  <!-- Publications -->
  @if (isLoading()) {
    <div class="loading-spinner">Chargement...</div>
  } @else if (publications().length === 0) {
    <div class="empty-state">
      <p>Aucune publication pour le moment.</p>
    </div>
  } @else {
    <div class="publications-list">
      @for (pub of publications(); track pub.id) {
        <app-publication-card
          [publication]="pub"
          [userId]="currentUserId"
          (deleted)="removePublication($event)"
        />
      }
    </div>
  }
</div>
